{% extends 'base.html' %}

{% load static %}

{% block title %}Ingresar Solicitud - DescuentoGas{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/responsive.css' %}">
{% endblock %}

{% block content %}
<div style="max-width: 700px; margin: 0 auto;">
    <div class="card">
        <div class="card-header">
            <h2 class="card-title" style="margin: 0;">Ingresar Nueva Solicitud</h2>
            <p style="color: var(--color-text-secondary); margin-top: 0.5rem; font-size: 0.875rem;">
                Complete el formulario para solicitar el descuento en cilindros de gas licuado
            </p>
        </div>
        <div class="card-body">
            <form method="post">
                {% csrf_token %}
                
                <div class="form-group">
                    <label for="{{ form.rut.id_for_label }}" class="form-label">RUT</label>
                    {{ form.rut }}
                    {% if form.rut.errors %}
                        <small style="color: var(--color-error); font-size: 0.875rem;">{{ form.rut.errors.0 }}</small>
                    {% endif %}
                </div>
                
                <div class="form-group">
                    <label for="{{ form.nombre.id_for_label }}" class="form-label">Nombre</label>
                    {{ form.nombre }}
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div class="form-group">
                        <label for="{{ form.apellido_paterno.id_for_label }}" class="form-label">Apellido Paterno</label>
                        {{ form.apellido_paterno }}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.apellido_materno.id_for_label }}" class="form-label">Apellido Materno</label>
                        {{ form.apellido_materno }}
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="{{ form.direccion.id_for_label }}" class="form-label">Dirección</label>
                    {{ form.direccion }}
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div class="form-group">
                        <label for="{{ form.telefono.id_for_label }}" class="form-label">Teléfono</label>
                        {{ form.telefono }}
                        {% if form.telefono.errors %}
                            <small style="color: var(--color-error); font-size: 0.875rem;">{{ form.telefono.errors.0 }}</small>
                        {% else %}
                            <small class="form-text">Formato: 9XXXXXXXX o +569XXXXXXXX</small>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        <label for="{{ form.region.id_for_label }}" class="form-label">Región</label>
                        {{ form.region }}
                        <small class="form-text">Opcional - filtra comunas</small>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="{{ form.comuna.id_for_label }}" class="form-label">Comuna</label>
                    {{ form.comuna }}
                    {% if form.comuna.errors %}
                        <small style="color: var(--color-error); font-size: 0.875rem;">{{ form.comuna.errors.0 }}</small>
                    {% else %}
                        <small class="form-text">Escriba para buscar o seleccione una región primero</small>
                    {% endif %}
                </div>
                
                <div style="display: flex; gap: 0.75rem; margin-top: 1.5rem;">
                    <button type="submit" class="btn btn-primary">Enviar Solicitud</button>
                    <a href="/" class="btn btn-outline">Cancelar</a>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
{% load static %}
<script src="{% static 'js/region_comuna.js' %}"></script>
{% endblock %}
